<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>中国石油企业移动应用平台</title>
		<style>
			 html,body,iframe{width: 100%;height: 100%;padding: 0;margin: 0}
			#wrap{width: 100%;height: 100%;}
			iframe{border: none;}

		</style>
	</head>

	<body>
		<div id="wrap">
			<iframe src="http://e.cnpc.com.cn:66/"></iframe>
		</div>
		<a href="https://emp.cnpc.com.cn/" id="openApp" style="display: none">中国石油企业移动应用平台</a>  
		<script>
			<!-- a标签的链接，设置为对应的下载链接；点击打开的动作，在click事件中注册 -->  
				var u = navigator.userAgent,
					app = navigator.appVersion;
				var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //android终端或者uc浏览器
				var isIOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

			    document.getElementById('openApp').onclick = function(e){  
			        // 通过iframe的方式试图打开APP，如果能正常打开，会直接切换到APP，并自动阻止a标签的默认行为  
			        // 否则打开a标签的href链接  
			        var ifr = document.createElement('iframe');  
					if(isAndroid){
						 ifr.src = 'cn.com.petrochina.EnterpriseHall://';  
					}else if(isIOS){
						 ifr.src = 'EnterpriseHall://';  
					}
			        ifr.style.display = 'none';  
			        document.body.appendChild(ifr);  
			        window.setTimeout(function(){  
			            document.body.removeChild(ifr);  
			        },3000)  
			    };  
			    document.getElementById('openApp').click();  
		</script>	
		
	</body>

</html>